<div class="row">
	<%- include ../auth/_presentation %>
	<div id="" class="registration ">
		<div class="modal-header">
			<h3><%=translation.users.new_user.title%></h3>
		</div>
		<form id="register_user_form" ng-controller="DummyCtrl" name="" autocomplete="" class="" action="/sign_up/" method="POST" enctype="">
		<input type='hidden' name='_csrf' value='<%= csrf_token%>' />
			<div class="modal-body clearfix">
				<% var nameErrors = [] %>
			    <% if (errors.length) { %>
			        <% for (var i in errors) { %>
			        	<% nameErrors.push(errors[i].message)%>
			        <% } %>
			    <% } %>
			    <% if (nameErrors.indexOf("passwordDifferent") != -1) { %>
			        <span class="help-block alert alert-danger "><%=translation.users.new_user.alert01%></span>
			    <% } %>
			    <% if (nameErrors.indexOf("emailUsed") != -1) { %>
			        <span class="help-block alert alert-danger "><%=translation.users.new_user.alert02%></span>
			    <% } %>
			    <% if (nameErrors.indexOf("emailInvalid") != -1) { %>
			        <span class="help-block alert alert-danger "><%=translation.users.new_user.alert03%></span>
			    <% } %>
				<div class="form-group ">
					<label class="control-label" for="id_username"><%=translation.users.new_user.label01%></label>
					<div class=" ">
						<input class="form-control" id="id_username" maxlength="30" name="username" type="text" value="<%= user_info.username %>"/>
					</div>
				</div>
				<% if (nameErrors.indexOf("username") != -1) { %>
			        <span class="help-block alert alert-danger "><%=translation.users.new_user.required_field%></span>
			    <% } %>
				<div class="form-group ">
					<label class="control-label" for="id_email"><%=translation.users.new_user.label02%></label>
					<div class=" ">
						<input class="form-control" id="id_email" name="email" type="email" value="<%= user_info.email %>"/>
					</div>
				</div>
				<% if (nameErrors.indexOf("email") != -1) { %>
			        <span class="help-block alert alert-danger "><%=translation.users.new_user.required_field%></span>
			    <% } %>
				<div class="form-group has-feedback">
					<label class="control-label" for="id_password1">
						<%=translation.users.new_user.label03%>
						<!-- <a href="" class="hard_pwd" data-toggle="tooltip" data-placement="top" title="">hard</a> -->
					</label>
					<div class=" ">
						<input class="form-control" id="id_password1" name="password1" type="password" />
						<span class="form-control-feedback fa fa-eye"></span>
					</div>
				</div>
				<% if (nameErrors.indexOf("password1") != -1) { %>
			        <span class="help-block alert alert-danger "><%=translation.users.new_user.required_field%></span>
			    <% } %>
				<div class="form-group has-feedback">
					<label class="control-label" for="id_password2"><%=translation.users.new_user.label04%></label>
					<div class=" ">
						<input class="form-control" id="id_password2" name="password2" type="password" />
						<span class="form-control-feedback fa fa-eye"></span>
					</div>
				</div>
				<% if (nameErrors.indexOf("password2") != -1) { %>
			        <span class="help-block alert alert-danger "><%=translation.users.new_user.required_field%></span>
			    <% } %>
				<script src="https://www.google.com/recaptcha/api.js?hl=en-GB" async defer></script>
			</div>
			<div class="modal-footer">
				<label class="conditions checkbox-inline">
					<input type="checkbox" id="inlineCheckbox1" required="required" title="You need to accept the Terms and Conditions to create your account" value="option1"> <%=translation.users.new_user.label06%> <a href="https://plattform.ki-marktplatz.com/Plattform/TermsAndConditions" target="a_blank"><%=translation.users.new_user.label07%></a>
				</label>
				<label class="conditions checkbox-inline">
					<input type="checkbox" id="inlineCheckbox2" required="required" title="You need to accept the Privacy Policy to create your account" value="option1"> <%=translation.users.new_user.label08%> <a href="https://plattform.ki-marktplatz.com/Plattform/Information/Datenschutz" target="a_blank"><%=translation.users.new_user.label09%></a>
				</label>
				<label class="conditions checkbox-inline">
					<input type="checkbox" id="inlineCheckbox3" required="required" title="You need to accept that this is a beta version." value="option1"> <%-translation.users.new_user.label10%>
				</label>
				<button type="submit" class="btn btn-primary pull-right"><%=translation.users.new_user.signup_btn%></button>
				<div class="actions">
					<a href="/password/request/">
						<%=translation.users.new_user.link01%>
					</a>
					<a href="/confirmation/">
						<%=translation.users.new_user.link02%>
					</a>
			</div>
			</div>
		</form>
	</div>
</div>

<script src="/javascripts/users/handle_password_strength.js" type="text/javascript"></script>
<script src="/javascripts/others/see_password.js" type="text/javascript"></script>

<script type="text/javascript">
	$(document).ready(function(){

		$('#id_password1').bind("keyup input",function(e) {
			var input = $('#id_password1')
			var value_input = $('#id_password1').val()
			var label = input.closest('.form-group').find('label')
			checkStrength(value_input, input, label)
		})
	})
</script>
